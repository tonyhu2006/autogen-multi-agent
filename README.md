# AutoGen v0.4+ Multi-Agent AI System

<div align="center">

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![AutoGen](https://img.shields.io/badge/AutoGen-v0.4+-green.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

**ğŸ¤– æ™ºèƒ½å¤šä»£ç† AI ç³»ç»Ÿï¼Œé›†æˆå®šæ—¶é‚®ä»¶æœåŠ¡ä¸æ™ºèƒ½ç ”ç©¶åŠŸèƒ½**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢
[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢
[å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—) â€¢
[ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£) â€¢
[é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)

</div>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£)
- [API å‚è€ƒ](#-api-å‚è€ƒ)
- [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

AutoGen v0.4+ Multi-Agent AI System æ˜¯ä¸€ä¸ªåŸºäº Microsoft AutoGen æ¡†æ¶çš„æ™ºèƒ½è‡ªåŠ¨åŒ–å¹³å°ï¼Œä¸“ä¸ºä¼ä¸šçº§ AI åº”ç”¨è®¾è®¡ã€‚ç³»ç»Ÿé›†æˆäº†å¤šä»£ç†åä½œã€æ™ºèƒ½ç ”ç©¶ã€å®šæ—¶é‚®ä»¶æœåŠ¡ç­‰åŠŸèƒ½ï¼Œæ”¯æŒ Gemini Balance APIï¼Œæä¾›å®Œæ•´çš„ AI å·¥ä½œæµè§£å†³æ–¹æ¡ˆã€‚

### ğŸŒŸ æ ¸å¿ƒäº®ç‚¹

- ğŸ¤– **å¤šä»£ç†åä½œ**: åŸºäº AutoGen v0.4+ çš„æ™ºèƒ½ä»£ç†ç³»ç»Ÿ
- ğŸ“§ **å®šæ—¶é‚®ä»¶æœåŠ¡**: è‡ªåŠ¨ç”Ÿæˆå’Œå‘é€ AI ç ”ç©¶æŠ¥å‘Š
- ğŸ§  **è®¤çŸ¥å¢å¼º**: é›†æˆ Context-Engineering è®¤çŸ¥å·¥å…·
- ğŸ”„ **å®æ—¶ SMTP**: çœŸå®é‚®ä»¶å‘é€ï¼Œæ”¯æŒ Gmail ç­‰ä¸»æµæœåŠ¡
- ğŸ¯ **çµæ´»è°ƒåº¦**: æ”¯æŒæ¯æ—¥/æ¯å‘¨/æ¯æœˆå®šæ—¶ä»»åŠ¡
- ğŸ› ï¸ **æ˜“äºéƒ¨ç½²**: å®Œæ•´çš„ç¯å¢ƒé…ç½®å’Œéƒ¨ç½²è„šæœ¬

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– æ™ºèƒ½ä»£ç†ç³»ç»Ÿ
- **ç ”ç©¶ä»£ç†**: æ™ºèƒ½ä¿¡æ¯æœç´¢ã€åˆ†æå’Œæ€»ç»“
- **é‚®ä»¶ä»£ç†**: è‡ªåŠ¨é‚®ä»¶ç”Ÿæˆå’Œ SMTP å‘é€
- **å›¢é˜Ÿåè°ƒå™¨**: å¤šä»£ç†ä»»åŠ¡åˆ†é…å’Œåä½œç®¡ç†

### ğŸ“§ å®šæ—¶é‚®ä»¶æœåŠ¡
- **æ™ºèƒ½å†…å®¹ç”Ÿæˆ**: åŸºäº Gemini æ¨¡å‹çš„ç ”ç©¶æŠ¥å‘Š
- **çµæ´»è°ƒåº¦é…ç½®**: æ”¯æŒå¤šä¸»é¢˜ã€å¤šæ”¶ä»¶äººã€å¤šé¢‘ç‡
- **çœŸå®é‚®ä»¶å‘é€**: é›†æˆ SMTP æœåŠ¡ï¼Œç¡®ä¿é‚®ä»¶æŠ•é€’
- **äº¤äº’å¼ç®¡ç†**: å®Œæ•´çš„ CLI ç•Œé¢ç®¡ç†è°ƒåº¦ä»»åŠ¡

### ğŸ§  è®¤çŸ¥å¢å¼ºåŠŸèƒ½
- **è®¤çŸ¥åˆ†æ**: IBM è®¤çŸ¥å·¥å…·é›†æˆ
- **åè®® Shell**: ç»“æ„åŒ–ä»£ç†é€šä¿¡åè®®
- **å…ƒè®¤çŸ¥ç›‘æ§**: ç³»ç»Ÿè‡ªæˆ‘ç›‘æ§å’Œä¼˜åŒ–

### ğŸ”§ å¼€å‘å·¥å…·
- **å¤šè¿è¡Œæ¨¡å¼**: äº¤äº’å¼ã€æ‰¹é‡ã€æ¼”ç¤ºã€æµ‹è¯•æ¨¡å¼
- **é…ç½®ç®¡ç†**: ç¯å¢ƒå˜é‡å’Œ JSON é…ç½®æ–‡ä»¶
- **è¯Šæ–­å·¥å…·**: SMTP æµ‹è¯•å’Œç³»ç»ŸéªŒè¯å·¥å…·

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "ğŸ“± ç”¨æˆ·äº¤äº’å±‚"
        A[ç”¨æˆ·æ¥å£]
        I[å®šæ—¶è°ƒåº¦å™¨]
        K[é…ç½®ç®¡ç†]
    end
    
    subgraph "ğŸ§  æ™ºèƒ½åè°ƒä¸­æ¢"
        TC[Team Coordinator ğŸ§ ]
        subgraph "AI æ™ºèƒ½å¤§è„‘"
            AI[Gemini Balance API]
            RT[æ™ºèƒ½è·¯ç”±å†³ç­–å¼•æ“]
        end
        TQ[ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†]
        AF[ä»£ç†å·¥å‚å‡½æ•°]
    end
    
    subgraph "ğŸ”§ ä¸“ä¸šä»£ç†å±‚ (å…¨éƒ¨é…å¤‡AIæ¨¡å‹)"
        subgraph "ç ”ç©¶ä»£ç† ğŸ”"
            C[ç ”ç©¶ä»£ç†æ ¸å¿ƒ]
            CM[AIæ¨¡å‹å®¢æˆ·ç«¯]
        end
        subgraph "é‚®ä»¶ä»£ç† ğŸ“§"
            D[é‚®ä»¶ä»£ç†æ ¸å¿ƒ]
            DM[AIæ¨¡å‹å®¢æˆ·ç«¯]
        end
        subgraph "é€šç”¨åŠ©æ‰‹ ğŸ¤–"
            GA[é€šç”¨åŠ©æ‰‹æ ¸å¿ƒ]
            GM[AIæ¨¡å‹å®¢æˆ·ç«¯]
        end
    end
    
    subgraph "ğŸ”Œ å¤–éƒ¨æœåŠ¡å±‚"
        F[Gemini Balance API]
        G[SMTP æœåŠ¡]
        S[æœç´¢å¼•æ“]
    end
    
    %% ä¿¡æ¯æµå‘
    A --> TC
    I --> TC
    K --> TC
    
    TC --> AI
    AI --> RT
    RT --> TQ
    
    %% ä»£ç†åˆ›å»ºå’ŒAIæ¨¡å‹æ³¨å…¥
    TQ --> AF
    AF --> C
    AF --> D
    AF --> GA
    AF -."æ³¨å…¥AIæ¨¡å‹å®¢æˆ·ç«¯".-> CM
    AF -."æ³¨å…¥AIæ¨¡å‹å®¢æˆ·ç«¯".-> DM
    AF -."æ³¨å…¥AIæ¨¡å‹å®¢æˆ·ç«¯".-> GM
    
    %% AIæ¨¡å‹è°ƒç”¨
    CM --> F
    DM --> F
    GM --> F
    
    %% å¤–éƒ¨æœåŠ¡è°ƒç”¨
    C --> S
    D --> G
    GA --> S
    
    %% è®¤çŸ¥å¢å¼º
    J[è®¤çŸ¥å¢å¼ºå±‚] --> TC
    
    %% æ ·å¼è®¾ç½®
    style TC fill:#ff9800,stroke:#e65100,stroke-width:3px,color:#fff
    style AI fill:#4caf50,stroke:#2e7d32,stroke-width:2px,color:#fff
    style RT fill:#2196f3,stroke:#1565c0,stroke-width:2px,color:#fff
    style AF fill:#9c27b0,stroke:#6a1b9a,stroke-width:2px,color:#fff
    style CM fill:#4caf50,stroke:#2e7d32,stroke-width:2px,color:#fff
    style DM fill:#4caf50,stroke:#2e7d32,stroke-width:2px,color:#fff
    style GM fill:#4caf50,stroke:#2e7d32,stroke-width:2px,color:#fff
    style A fill:#e1f5fe
    style C fill:#f3e5f5
    style D fill:#fff3e0
    style GA fill:#e8f5e8
    style F fill:#e8f5e8
    style G fill:#fff3e0
    style S fill:#fce4ec
```

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | æ–‡ä»¶ | åŠŸèƒ½æè¿° |
|------|------|----------|
| **ğŸ§  æ™ºèƒ½åè°ƒå™¨** | `team_coordinator_v4.py` | **AIæ™ºèƒ½å¤§è„‘ï¼Œè´Ÿè´£ä»»åŠ¡è·¯ç”±å†³ç­–å’Œä»£ç†è°ƒåº¦** |
| **ğŸ­ ä»£ç†å·¥å‚** | `base_agent_v4.py` | **åˆ›å»ºä»£ç†å¹¶æ³¨å…¥AIæ¨¡å‹å®¢æˆ·ç«¯ï¼Œç¡®ä¿æ‰€æœ‰ä»£ç†å…·å¤‡AIæ™ºèƒ½** |
| ä¸»ç³»ç»Ÿ | `main_v4.py` | ç”¨æˆ·äº¤äº’å’Œä¼šè¯ç®¡ç† |
| å¯åŠ¨å™¨ | `run_v4.py` | å¤šæ¨¡å¼å¯åŠ¨è„šæœ¬ |
| **ğŸ” ç ”ç©¶ä»£ç†** | `research_agent_v4.py` | **åŸºäºAIæ¨¡å‹çš„æ™ºèƒ½æœç´¢ã€æ·±åº¦åˆ†æå’Œç ”ç©¶æŠ¥å‘Šç”Ÿæˆ** |
| **ğŸ“§ é‚®ä»¶ä»£ç†** | `email_agent_v4.py` | **åŸºäºAIæ¨¡å‹çš„æ™ºèƒ½é‚®ä»¶ç”Ÿæˆå’ŒSMTPå‘é€ï¼Œé€šè¿‡å·¥å‚å‡½æ•°è·å¾—AIèƒ½åŠ›** |
| **ğŸ¤– é€šç”¨åŠ©æ‰‹** | `base_agent_v4.py` | **åŸºäºAIæ¨¡å‹çš„æ—¥å¸¸å¯¹è¯å’Œå®æ—¶ä¿¡æ¯æŸ¥è¯¢ï¼Œå…·å¤‡æ·±åº¦è®¤çŸ¥èƒ½åŠ›** |
| é‚®ä»¶æœåŠ¡ | `scheduled_email_service.py` | å®šæ—¶é‚®ä»¶ç”Ÿæˆå’Œå‘é€ |
| ç ”ç©¶æœåŠ¡ | `scheduled_research.py` | å®šæ—¶ç ”ç©¶ä»»åŠ¡æ‰§è¡Œ |
| SMTP å·¥å…· | `test_direct_smtp.py` | é‚®ä»¶å‘é€æµ‹è¯•å’Œè¯Šæ–­ |

### ğŸš€ æ¶æ„äº®ç‚¹

- **ğŸ§  æ™ºèƒ½åè°ƒä¸­æ¢**: Team Coordinator é…å¤‡ AI å¤§è„‘ï¼Œä½¿ç”¨ Gemini Balance API è¿›è¡Œæ™ºèƒ½è·¯ç”±å†³ç­–
- **ğŸ¯ æ™ºèƒ½ä»»åŠ¡åˆ†é…**: åŸºäºç”¨æˆ·è¯·æ±‚çš„å¤æ‚åº¦ã€ä¸“ä¸šæ€§å’Œç´§æ€¥ç¨‹åº¦è¿›è¡Œæ™ºèƒ½åˆ†é…
- **ğŸ­ ç»Ÿä¸€AIæ¨¡å‹æ³¨å…¥**: æ‰€æœ‰ä¸“ä¸šä»£ç†é€šè¿‡å·¥å‚å‡½æ•°ç»Ÿä¸€è·å¾—AIæ¨¡å‹å®¢æˆ·ç«¯ï¼Œç¡®ä¿æ™ºèƒ½ä¸€è‡´æ€§
- **ğŸ“§ é‚®ä»¶ä»£ç†AIæ™ºèƒ½**: é‚®ä»¶ä»£ç†ç»§æ‰¿è‡ª `EnhancedAssistantAgent`ï¼Œé€šè¿‡ `model_client` å‚æ•°ç›´æ¥è·å¾—AIèƒ½åŠ›
- **ğŸ”— OpenAIå…¼å®¹æ¶æ„**: æ‰€æœ‰AIè°ƒç”¨ç»Ÿä¸€ä½¿ç”¨OpenAIå…¼å®¹æ ¼å¼ï¼Œè¿æ¥Gemini Balance API
- **ğŸ§  æ·±åº¦è®¤çŸ¥èƒ½åŠ›**: æ¯ä¸ªä»£ç†éƒ½é…å¤‡ `CognitiveLevel.DEEP` è®¤çŸ¥æ°´å¹³ï¼Œå…·å¤‡ä¸“ä¸šåˆ†æèƒ½åŠ›
- **ğŸ”„ ç»Ÿä¸€è°ƒåº¦ç®¡ç†**: æ‰€æœ‰ä»£ç†ç”±æ™ºèƒ½åè°ƒå™¨ç»Ÿä¸€è°ƒåº¦ï¼Œé¿å…å†²çªå’Œé‡å¤
- **âš¡ è‡ªé€‚åº”è·¯ç”±**: AI å¤§è„‘èƒ½å¤Ÿå­¦ä¹ å’Œé€‚åº”ä¸åŒç±»å‹çš„ä»»åŠ¡éœ€æ±‚
- **ğŸ›¡ï¸ å¤‡ç”¨æœºåˆ¶**: å½“ AI è·¯ç”±å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å…³é”®è¯åŒ¹é…å¤‡ç”¨è·¯ç”±

### ğŸ“§ é‚®ä»¶ä»£ç†AIæ™ºèƒ½æ¶æ„è¯¦è§£

é‚®ä»¶ä»£ç†çš„æ™ºèƒ½æ¥æºäºå¤šå±‚æ¬¡çš„AIæ¨¡å‹é›†æˆæ¶æ„ï¼š

#### ğŸ”§ **AIæ¨¡å‹æ³¨å…¥æœºåˆ¶**
```python
# 1. é€šè¿‡å·¥å‚å‡½æ•°åˆ›å»ºé‚®ä»¶ä»£ç†
async def create_enhanced_agent(
    name: str,
    agent_type: str = "email",
    api_key: str,
    base_url: str,
    model: str = "gemini-2.5-flash"
):
    # åˆ›å»ºAIæ¨¡å‹å®¢æˆ·ç«¯
    model_client = OpenAIChatCompletionClient(
        model=model,
        api_key=api_key,
        base_url=base_url,  # è¿æ¥åˆ° Gemini Balance API
        model_info=ModelInfo(family="gemini", ...)
    )
    
    # æ³¨å…¥AIæ¨¡å‹åˆ°é‚®ä»¶ä»£ç†
    return EnhancedEmailAgent(
        name=name,
        model_client=model_client,  # â† AIæ™ºèƒ½åœ¨æ­¤æ³¨å…¥
        cognitive_level=CognitiveLevel.DEEP
    )
```

#### ğŸ§  **ç»§æ‰¿AIèƒ½åŠ›**
```python
class EnhancedEmailAgent(EnhancedAssistantAgent):
    def __init__(self, model_client: OpenAIChatCompletionClient, ...):
        super().__init__(
            model_client=model_client,  # â† ç»§æ‰¿å®Œæ•´AIèƒ½åŠ›
            cognitive_level=CognitiveLevel.DEEP,
            system_message=self._build_email_system_message()
        )
```

#### ğŸ¯ **AIæ™ºèƒ½å·¥ä½œæµç¨‹**
1. **æ™ºèƒ½è·¯ç”±**: Team Coordinator AIå¤§è„‘è¯†åˆ«é‚®ä»¶ä»»åŠ¡
2. **ä»£ç†åˆ›å»º**: å·¥å‚å‡½æ•°åˆ›å»ºé‚®ä»¶ä»£ç†å¹¶æ³¨å…¥AIæ¨¡å‹å®¢æˆ·ç«¯
3. **AIç”Ÿæˆ**: é‚®ä»¶ä»£ç†ä½¿ç”¨Geminiæ¨¡å‹ç”Ÿæˆä¸“ä¸šé‚®ä»¶å†…å®¹
4. **æŠ€æœ¯é›†æˆ**: é€šè¿‡SMTP/Gmail APIå®é™…å‘é€é‚®ä»¶
5. **è´¨é‡ä¿è¯**: AIè‡ªåŠ¨æ£€æŸ¥é‚®ä»¶ä¸“ä¸šæ€§å’Œå‡†ç¡®æ€§

#### ğŸ”— **APIè°ƒç”¨é“¾è·¯**
```
ç”¨æˆ·è¯·æ±‚ â†’ Team Coordinator â†’ AIè·¯ç”±å†³ç­– â†’ é‚®ä»¶ä»£ç†åˆ›å»º â†’ 
AIæ¨¡å‹å®¢æˆ·ç«¯ â†’ Gemini Balance API â†’ æ™ºèƒ½é‚®ä»¶ç”Ÿæˆ â†’ SMTPå‘é€
```

**å…³é”®ç‰¹æ€§**:
- âœ… **å®Œå…¨åŸºäºAIæ¨¡å‹**: é‚®ä»¶ä»£ç†é€šè¿‡ `model_client` å‚æ•°è·å¾—å®Œæ•´AIèƒ½åŠ›
- âœ… **æ·±åº¦è®¤çŸ¥åˆ†æ**: ä½¿ç”¨ `CognitiveLevel.DEEP` è¿›è¡Œä¸“ä¸šå†…å®¹åˆ†æ
- âœ… **OpenAIå…¼å®¹æ ¼å¼**: ç»Ÿä¸€ä½¿ç”¨ `/v1/chat/completions` ç«¯ç‚¹è°ƒç”¨Gemini API
- âœ… **ä¸“ä¸šç³»ç»Ÿæç¤º**: é€šè¿‡ `_build_email_system_message()` æ„å»ºé‚®ä»¶ä¸“ä¸šæç¤º
- âœ… **æ™ºèƒ½ä¸ªæ€§åŒ–**: æ ¹æ®æ”¶ä»¶äººã€åœºæ™¯ã€è¯­è°ƒè‡ªåŠ¨è°ƒæ•´é‚®ä»¶é£æ ¼

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Python 3.8+ (æ¨è 3.10+)
- Git
- Gmail è´¦æˆ·æˆ–å…¶ä»– SMTP æœåŠ¡
- Gemini Balance API è®¿é—®æƒé™

### ä¸€é”®å¯åŠ¨
```bash
# 1. å…‹éš†ä»“åº“
git clone <repository-url>
cd autogen-multi-agent

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®ç¯å¢ƒ
cp .env.example .env.local
# ç¼–è¾‘ .env.local æ·»åŠ æ‚¨çš„ API å¯†é’¥

# 4. æµ‹è¯•ç³»ç»Ÿ
python run_v4.py --test

# 5. å¯åŠ¨å®šæ—¶é‚®ä»¶æœåŠ¡
python scheduled_email_service.py
```

### éªŒè¯å®‰è£…
```bash
# æµ‹è¯• SMTP é…ç½®
python test_direct_smtp.py

# å¯åŠ¨äº¤äº’æ¨¡å¼
python run_v4.py --interactive
```

---

## ğŸ› ï¸ å®‰è£…æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡

#### Python ç¯å¢ƒ
```bash
# æ£€æŸ¥ Python ç‰ˆæœ¬
python --version  # éœ€è¦ 3.8+

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

#### ä¾èµ–å®‰è£…
```bash
# å®‰è£…æ ¸å¿ƒä¾èµ–
pip install -r requirements.txt

# éªŒè¯ AutoGen å®‰è£…
python -c "import autogen_agentchat; print('âœ… AutoGen v0.4+ å®‰è£…æˆåŠŸ')"
```

### 2. API æœåŠ¡é…ç½®

#### Gemini Balance API
1. è·å– Gemini Balance API å¯†é’¥
2. ç¡®è®¤ API ç«¯ç‚¹ URL
3. æµ‹è¯• API è¿æ¥

#### Gmail SMTP é…ç½®
1. **å¯ç”¨ä¸¤æ­¥éªŒè¯**
   - è®¿é—® [Google è´¦æˆ·è®¾ç½®](https://myaccount.google.com/)
   - å®‰å…¨ â†’ ä¸¤æ­¥éªŒè¯

2. **ç”Ÿæˆåº”ç”¨å¯†ç **
   - å®‰å…¨ â†’ ä¸¤æ­¥éªŒè¯ â†’ åº”ç”¨å¯†ç 
   - é€‰æ‹©"é‚®ä»¶"å’Œè®¾å¤‡ç±»å‹
   - å¤åˆ¶ç”Ÿæˆçš„ 16 ä½å¯†ç 

3. **æµ‹è¯• SMTP è¿æ¥**
   ```bash
   python test_direct_smtp.py
   ```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š
```env
# Gemini Balance API é…ç½®
OPENAI_API_KEY=your_gemini_balance_api_key_here
OPENAI_BASE_URL=http://your-gemini-balance-url/v1
OPENAI_MODEL=gemini-2.5-flash

# SMTP é‚®ä»¶é…ç½®
SENDER_EMAIL=your-email@gmail.com
SENDER_PASSWORD=your_16_digit_app_password
SENDER_NAME=AIç ”ç©¶ç³»ç»Ÿ
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# å¯é€‰é…ç½®
LOG_LEVEL=INFO
MAX_RETRIES=3
TIMEOUT_SECONDS=30
```

### é‚®ä»¶è°ƒåº¦é…ç½®

ç¼–è¾‘ `email_schedules.json`ï¼š
```json
{
  "schedules": [
    {
      "topic": "AGIäººå·¥æ™ºèƒ½",
      "recipient": "recipient@example.com",
      "schedule_time": "09:00",
      "frequency": "daily",
      "subject_template": "æ¯æ—¥AGIç ”ç©¶åŠ¨æ€ - {date}",
      "enabled": true
    },
    {
      "topic": "ç§‘æŠ€æ–°é—»",
      "recipient": "tech-team@company.com",
      "schedule_time": "18:00",
      "frequency": "weekly",
      "subject_template": "æ¯å‘¨ç§‘æŠ€èµ„è®¯æ±‡æ€» - {date}",
      "enabled": false
    }
  ]
}
```

#### é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `topic` | string | ç ”ç©¶ä¸»é¢˜å…³é”®è¯ | "AGIäººå·¥æ™ºèƒ½" |
| `recipient` | string | æ”¶ä»¶äººé‚®ç®± | "user@example.com" |
| `schedule_time` | string | å‘é€æ—¶é—´ (24å°æ—¶åˆ¶) | "09:00" |
| `frequency` | string | å‘é€é¢‘ç‡ | "daily", "weekly", "monthly" |
| `subject_template` | string | é‚®ä»¶ä¸»é¢˜æ¨¡æ¿ | "ç ”ç©¶æŠ¥å‘Š - {date}" |
| `enabled` | boolean | æ˜¯å¦å¯ç”¨æ­¤è°ƒåº¦ | true, false |

---

## ğŸ“– ä½¿ç”¨æ–‡æ¡£

### ä¸»ç³»ç»Ÿä½¿ç”¨

#### äº¤äº’å¼æ¨¡å¼
```bash
# å¯åŠ¨äº¤äº’å¼å¯¹è¯
python main_v4.py

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
python run_v4.py --interactive
```

**åŠŸèƒ½ç‰¹æ€§:**
- å®æ—¶ AI å¯¹è¯
- å¤šä»£ç†åä½œ
- ä»»åŠ¡æ‰§è¡Œå’Œç›‘æ§
- è®¤çŸ¥åˆ†æå·¥å…·

#### æ‰¹é‡ä»»åŠ¡æ¨¡å¼
```bash
# æ‰§è¡Œæ‰¹é‡ä»»åŠ¡
python run_v4.py --batch tasks.json
```

**ä»»åŠ¡é…ç½®ç¤ºä¾‹:**
```json
{
  "tasks": [
    {
      "type": "research",
      "topic": "é‡å­è®¡ç®—æœ€æ–°è¿›å±•",
      "output": "research_report.md"
    },
    {
      "type": "email",
      "subject": "ç ”ç©¶æŠ¥å‘Š",
      "recipient": "team@company.com",
      "content_file": "research_report.md"
    }
  ]
}
```

### å®šæ—¶é‚®ä»¶æœåŠ¡

#### å¯åŠ¨æœåŠ¡
```bash
python scheduled_email_service.py
```

#### ç®¡ç†ç•Œé¢
```
ğŸ¤– AutoGen v0.4+ ç®€åŒ–å®šæ—¶é‚®ä»¶æœåŠ¡
==================================================

ğŸ“‹ å¯ç”¨æ“ä½œ:
1. æŸ¥çœ‹é‚®ä»¶è°ƒåº¦    # æ˜¾ç¤ºå½“å‰æ‰€æœ‰è°ƒåº¦é…ç½®
2. æ·»åŠ é‚®ä»¶è°ƒåº¦    # äº¤äº’å¼æ·»åŠ æ–°è°ƒåº¦
3. å¯ç”¨/ç¦ç”¨è°ƒåº¦   # åˆ‡æ¢è°ƒåº¦çŠ¶æ€
4. å¯åŠ¨å®šæ—¶æœåŠ¡    # å¼€å§‹è‡ªåŠ¨å®šæ—¶å‘é€
5. æµ‹è¯•å‘é€é‚®ä»¶    # ç«‹å³æµ‹è¯•é‚®ä»¶å‘é€
0. é€€å‡º

è¯·é€‰æ‹©æ“ä½œ (0-5):
```

#### æ“ä½œè¯´æ˜

**1. æŸ¥çœ‹é‚®ä»¶è°ƒåº¦**
- æ˜¾ç¤ºæ‰€æœ‰é…ç½®çš„é‚®ä»¶è°ƒåº¦
- åŒ…å«çŠ¶æ€ã€æ—¶é—´ã€æ”¶ä»¶äººä¿¡æ¯

**2. æ·»åŠ é‚®ä»¶è°ƒåº¦**
- äº¤äº’å¼é…ç½®æ–°çš„é‚®ä»¶è°ƒåº¦
- æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜ã€æ—¶é—´ã€é¢‘ç‡

**3. å¯ç”¨/ç¦ç”¨è°ƒåº¦**
- å¿«é€Ÿåˆ‡æ¢è°ƒåº¦ä»»åŠ¡çŠ¶æ€
- æ— éœ€é‡å¯æœåŠ¡

**4. å¯åŠ¨å®šæ—¶æœåŠ¡**
- å¼€å§‹è‡ªåŠ¨å®šæ—¶å‘é€
- åå°è¿è¡Œï¼Œæ”¯æŒ Ctrl+C ä¼˜é›…é€€å‡º

**5. æµ‹è¯•å‘é€é‚®ä»¶**
- ç«‹å³å‘é€æµ‹è¯•é‚®ä»¶
- éªŒè¯é…ç½®å’Œè¿æ¥

### è¿è¡Œæ¨¡å¼è¯¦è§£

#### æ¼”ç¤ºæ¨¡å¼
```bash
python run_v4.py --demo
```
- å±•ç¤ºç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½
- åŒ…å«é¢„è®¾æ¼”ç¤ºä»»åŠ¡
- é€‚åˆäº§å“æ¼”ç¤º

#### æµ‹è¯•æ¨¡å¼
```bash
python run_v4.py --test
```
- éªŒè¯ç³»ç»Ÿé…ç½®
- æ£€æŸ¥ API è¿æ¥
- æµ‹è¯•ä»£ç†åŠŸèƒ½

#### å¸®åŠ©ä¿¡æ¯
```bash
python run_v4.py --help
```

### è¯Šæ–­å·¥å…·

#### SMTP æµ‹è¯•
```bash
python test_direct_smtp.py
```
- æµ‹è¯•é‚®ä»¶æœåŠ¡å™¨è¿æ¥
- éªŒè¯è®¤è¯ä¿¡æ¯
- å‘é€æµ‹è¯•é‚®ä»¶

---

## ğŸ”Œ API å‚è€ƒ

### æ ¸å¿ƒç±»

#### AutoGenMultiAgentSystem
```python
from main_v4 import AutoGenMultiAgentSystem

# åˆå§‹åŒ–ç³»ç»Ÿ
system = AutoGenMultiAgentSystem()
await system.initialize()

# æ‰§è¡Œä»»åŠ¡
result = await system.execute_task("ç ”ç©¶æœ€æ–°çš„AIæŠ€æœ¯å‘å±•")
```

#### SimpleScheduledEmailService
```python
from scheduled_email_service import SimpleScheduledEmailService

# åˆå§‹åŒ–é‚®ä»¶æœåŠ¡
service = SimpleScheduledEmailService("email_schedules.json")
await service.initialize()

# å‘é€æµ‹è¯•é‚®ä»¶
await service.send_test_email("AGIäººå·¥æ™ºèƒ½")
```

### ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `OPENAI_API_KEY` | âœ… | - | Gemini Balance API å¯†é’¥ |
| `OPENAI_BASE_URL` | âœ… | - | API ç«¯ç‚¹ URL |
| `OPENAI_MODEL` | âœ… | - | æ¨¡å‹åç§° |
| `SENDER_EMAIL` | âœ… | - | å‘ä»¶äººé‚®ç®± |
| `SENDER_PASSWORD` | âœ… | - | é‚®ç®±å¯†ç /åº”ç”¨å¯†ç  |
| `SENDER_NAME` | âŒ | "AIç ”ç©¶ç³»ç»Ÿ" | å‘ä»¶äººæ˜¾ç¤ºåç§° |
| `SMTP_SERVER` | âŒ | "smtp.gmail.com" | SMTP æœåŠ¡å™¨ |
| `SMTP_PORT` | âŒ | "587" | SMTP ç«¯å£ |

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. API è¿æ¥å¤±è´¥
**é”™è¯¯**: `401 Unauthorized` æˆ–è¿æ¥è¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ API å¯†é’¥
echo $OPENAI_API_KEY

# æµ‹è¯• API è¿æ¥
curl -H "x-goog-api-key: $OPENAI_API_KEY" $OPENAI_BASE_URL/models

# éªŒè¯ç¯å¢ƒå˜é‡
python -c "import os; print(os.getenv('OPENAI_API_KEY')[:10] + '...')"
```

#### 2. é‚®ä»¶å‘é€å¤±è´¥
**é”™è¯¯**: `SMTP Authentication Error`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æµ‹è¯• SMTP é…ç½®
python test_direct_smtp.py

# æ£€æŸ¥åº”ç”¨å¯†ç 
# ç¡®ä¿ä½¿ç”¨ 16 ä½åº”ç”¨å¯†ç ï¼Œä¸æ˜¯è´¦æˆ·å¯†ç 

# éªŒè¯ Gmail è®¾ç½®
# 1. å¯ç”¨ä¸¤æ­¥éªŒè¯
# 2. ç”Ÿæˆåº”ç”¨å¯†ç 
# 3. ä½¿ç”¨åº”ç”¨å¯†ç è€Œéè´¦æˆ·å¯†ç 
```

#### 3. æ¨¡å—å¯¼å…¥é”™è¯¯
**é”™è¯¯**: `ModuleNotFoundError`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æ£€æŸ¥ Python è·¯å¾„
python -c "import sys; print(sys.path)"

# éªŒè¯è™šæ‹Ÿç¯å¢ƒ
which python
```

#### 4. å®šæ—¶æœåŠ¡æ— å“åº”
**é”™è¯¯**: æœåŠ¡å¯åŠ¨åæ— æ³•äº¤äº’

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨äº¤äº’å¼ç»ˆç«¯
python -i scheduled_email_service.py

# æˆ–åœ¨ IDE ä¸­è¿è¡Œ
# ç¡®ä¿ç»ˆç«¯æ”¯æŒäº¤äº’è¾“å…¥
```

### æ—¥å¿—è°ƒè¯•

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

#### æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
```bash
# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
tail -f *.log

# æœç´¢ç‰¹å®šé”™è¯¯
grep -i "error" *.log
```

### æ€§èƒ½ä¼˜åŒ–

#### å†…å­˜ä½¿ç”¨
- ç›‘æ§ä»£ç†å†…å­˜ä½¿ç”¨
- å®šæœŸæ¸…ç†å¯¹è¯å†å²
- è°ƒæ•´æ‰¹å¤„ç†å¤§å°

#### API è°ƒç”¨ä¼˜åŒ–
- å®ç°è¯·æ±‚ç¼“å­˜
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- ä½¿ç”¨è¿æ¥æ± 

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# 1. Fork ä»“åº“å¹¶å…‹éš†
git clone https://github.com/your-username/autogen-multi-agent.git
cd autogen-multi-agent

# 2. åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature-name

# 3. å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install -r requirements-dev.txt  # å¦‚æœå­˜åœ¨

# 4. è¿è¡Œæµ‹è¯•
python run_v4.py --test
```

### ä»£ç è§„èŒƒ

#### Python ä»£ç é£æ ¼
- éµå¾ª PEP 8 æ ‡å‡†
- ä½¿ç”¨ Black æ ¼å¼åŒ–ä»£ç 
- æ·»åŠ ç±»å‹æ³¨è§£
- ç¼–å†™æ–‡æ¡£å­—ç¬¦ä¸²

#### æäº¤è§„èŒƒ
```bash
# æäº¤æ ¼å¼
git commit -m "feat: æ·»åŠ æ–°çš„é‚®ä»¶è°ƒåº¦åŠŸèƒ½"
git commit -m "fix: ä¿®å¤ SMTP è¿æ¥é—®é¢˜"
git commit -m "docs: æ›´æ–° README æ–‡æ¡£"
```

#### æ‹‰å–è¯·æ±‚
1. ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•
2. æ›´æ–°ç›¸å…³æ–‡æ¡£
3. æ·»åŠ å˜æ›´è¯´æ˜
4. è¯·æ±‚ä»£ç å®¡æŸ¥

### æŠ¥å‘Šé—®é¢˜

ä½¿ç”¨ [GitHub Issues](https://github.com/your-repo/issues) æŠ¥å‘Šé—®é¢˜:

1. **Bug æŠ¥å‘Š**: åŒ…å«å¤ç°æ­¥éª¤ã€é”™è¯¯ä¿¡æ¯ã€ç¯å¢ƒä¿¡æ¯
2. **åŠŸèƒ½è¯·æ±‚**: æè¿°éœ€æ±‚ã€ä½¿ç”¨åœºæ™¯ã€é¢„æœŸè¡Œä¸º
3. **æ–‡æ¡£æ”¹è¿›**: æŒ‡å‡ºä¸æ¸…æ¥šæˆ–é”™è¯¯çš„æ–‡æ¡£å†…å®¹

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

- [Microsoft AutoGen](https://github.com/microsoft/autogen) - å¤šä»£ç†æ¡†æ¶
- [Google Gemini](https://ai.google.dev/) - AI æ¨¡å‹æ”¯æŒ
- [Context-Engineering](https://github.com/context-engineering) - è®¤çŸ¥å·¥å…·é›†æˆ

---

## ğŸ“ æ”¯æŒ

- ğŸ“§ é‚®ç®±: support@your-domain.com
- ğŸ’¬ è®¨è®º: [GitHub Discussions](https://github.com/your-repo/discussions)
- ğŸ› é—®é¢˜: [GitHub Issues](https://github.com/your-repo/issues)
- ğŸ“– æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£](https://your-docs-site.com)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼**

Made with â¤ï¸ by the AutoGen Multi-Agent Team

</div>
